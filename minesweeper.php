 <?for($x=str_replace('X',1,MAP);$y=$x[$i++];)print($y=='.')?(($d=$x[$i-1]+$x[$i-2]+$x[$i]+$x[$i+50]+$x[$i+49]+$x[$i+51]+$x[$i-51]+$x[$i-52]+$x[$i-53])?$d:$y):($y^1?$y:'X'); 
